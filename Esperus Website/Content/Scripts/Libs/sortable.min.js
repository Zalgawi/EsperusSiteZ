/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
(function(n){"use strict";typeof define=="function"&&define.amd?define(n):typeof module!="undefined"&&typeof module.exports!="undefined"?module.exports=n():window.Sortable=n()})(function(){"use strict";function c(n,t){var f,u,i;if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(n);this.el=n;this.options=t=li({},t);n[g]=this;f={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(n.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(n,t){n.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:c.supportPointer!==!1};for(u in f)u in t||(t[u]=f[u]);fi(t);for(i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:yi;r(n,"mousedown",this._onTapStart);r(n,"touchstart",this._onTapStart);t.supportPointer&&r(n,"pointerdown",this._onTapStart);this.nativeDraggable&&(r(n,"dragover",this),r(n,"dragenter",this));ut.push(this._onDragOver);t.store&&this.sort(t.store.get(this))}function dt(i,r){i.lastPullMode!=="clone"&&(r=!0);o&&o.state!==r&&(u(o,"display",r?"none":""),r||o.state&&(i.options.group.revertClone?(t.insertBefore(o,nt),i._animate(n,o)):t.insertBefore(o,n)),o.state=r)}function k(n,t,i){if(n){i=i||f;do if(t===">*"&&n.parentNode===i||hi(n,t))return n;while(n=bi(n))}return null}function bi(n){var t=n.host;return t&&t.nodeType?t:n.parentNode}function ki(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move");n.preventDefault()}function r(n,t,i){n.addEventListener(t,i,wt)}function e(n,t,i){n.removeEventListener(t,i,wt)}function w(n,t,i){if(n)if(n.classList)n.classList[i?"add":"remove"](t);else{var r=(" "+n.className+" ").replace(ni," ").replace(" "+t+" "," ");n.className=(r+(i?" "+t:"")).replace(ni," ")}}function u(n,t,i){var r=n&&n.style;if(r){if(i===void 0)return f.defaultView&&f.defaultView.getComputedStyle?i=f.defaultView.getComputedStyle(n,""):n.currentStyle&&(i=n.currentStyle),t===void 0?i:i[t];t in r||(t="-webkit-"+t);r[t]=i+(typeof i=="string"?"":"px")}}function ei(n,t,i){if(n){var u=n.getElementsByTagName(t),r=0,f=u.length;if(i)for(;r<f;r++)i(u[r],r);return u}return[]}function v(n,t,i,r,u,e,s,h){n=n||t[g];var c=f.createEvent("Event"),l=n.options,a="on"+i.charAt(0).toUpperCase()+i.substr(1);c.initEvent(i,!0,!0);c.to=u||t;c.from=e||t;c.item=r||t;c.clone=o;c.oldIndex=s;c.newIndex=h;t.dispatchEvent(c);l[a]&&l[a].call(n,c)}function oi(n,t,i,r,u,e,o,s){var h,c=n[g],l=c.options.onMove,a;return h=f.createEvent("Event"),h.initEvent("move",!0,!0),h.to=t,h.from=n,h.dragged=i,h.draggedRect=r,h.related=u||t,h.relatedRect=e||t.getBoundingClientRect(),h.willInsertAfter=s,n.dispatchEvent(h),l&&(a=l.call(c,h,o)),a}function si(n){n.draggable=!1}function di(){bt=!1}function gi(n,t){var r=n.lastElementChild,i=r.getBoundingClientRect();return t.clientY-(i.top+i.height)>5||t.clientX-(i.left+i.width)>5}function nr(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,i=t.length,r=0;i--;)r+=t.charCodeAt(i);return r.toString(36)}function st(n,t){var i=0;if(!n||!n.parentNode)return-1;while(n&&(n=n.previousElementSibling))n.nodeName.toUpperCase()!=="TEMPLATE"&&(t===">*"||hi(n,t))&&i++;return i}function hi(n,t){if(n){t=t.split(".");var i=t.shift().toUpperCase(),r=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return(i===""||n.nodeName.toUpperCase()==i)&&(!t.length||((" "+n.className+" ").match(r)||[]).length==t.length)}return!1}function ci(n,t){var i,r;return function(){i===void 0&&(i=arguments,r=this,rt(function(){i.length===1?n.call(r,i[0]):n.apply(r,i);i=void 0},t))}}function li(n,t){if(n&&t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function ai(n){return pt&&pt.dom?pt.dom(n).cloneNode(!0):ii?ii(n).clone(!0)[0]:n.cloneNode(!0)}function tr(n){for(var i=n.getElementsByTagName("input"),r=i.length,t;r--;)t=i[r],t.checked&&kt.push(t)}function ht(n){return rt(n,0)}function gt(n){return clearTimeout(n)}if(typeof window=="undefined"||!window.document)return function(){throw new Error("Sortable.js requires a window with a document");};var n,s,i,o,t,nt,ct,l,lt,at,vt,ft,yt,y,h,it,et,b={},d,a,ot,ni=/\s+/g,vi=/left|right|inline/,g="Sortable"+(new Date).getTime(),p=window,f=p.document,ti=p.parseInt,rt=p.setTimeout,ii=p.jQuery||p.Zepto,pt=p.Polymer,wt=!1,ri=!1,yi="draggable"in f.createElement("div"),ui=function(n){return!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)?(n=f.createElement("x"),n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"):!1}(),bt=!1,tt=Math.abs,pi=Math.min,kt=[],ut=[],wi=ci(function(n,t,i){if(i&&t.scroll){var y=i[g],r,o,u=t.scrollSensitivity,v=t.scrollSpeed,s=n.clientX,h=n.clientY,w=window.innerWidth,k=window.innerHeight,f,e,c,a;if(lt!==i&&(l=t.scroll,lt=i,at=t.scrollFn,l===!0)){l=i;do if(l.offsetWidth<l.scrollWidth||l.offsetHeight<l.scrollHeight)break;while(l=l.parentNode)}l&&(r=l,o=l.getBoundingClientRect(),f=(tt(o.right-s)<=u)-(tt(o.left-s)<=u),e=(tt(o.bottom-h)<=u)-(tt(o.top-h)<=u));f||e||(f=(w-s<=u)-(s<=u),e=(k-h<=u)-(h<=u),(f||e)&&(r=p));(b.vx!==f||b.vy!==e||b.el!==r)&&(b.el=r,b.vx=f,b.vy=e,clearInterval(b.pid),r&&(b.pid=setInterval(function(){if(a=e?e*v:0,c=f?f*v:0,"function"==typeof at)return at.call(y,c,a,n);r===p?p.scrollTo(p.pageXOffset+c,p.pageYOffset+a):(r.scrollTop+=a,r.scrollLeft+=c)},24)))}},30),fi=function(n){function r(n,t){return(n===void 0||n===!0)&&(n=i.name),typeof n=="function"?n:function(i,r){var u=r.options.group.name;return t?n:n&&(n.join?n.indexOf(u)>-1:u==n)}}var i={},t=n.group;t&&typeof t=="object"||(t={name:t});i.name=t.name;i.checkPull=r(t.pull,!0);i.checkPut=r(t.put);i.revertClone=t.revertClone;n.group=i};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){ri=!1;wt={capture:!1,passive:ri}}}))}catch(rr){}return c.prototype={constructor:c,_onTapStart:function(t){var s=this,r=this.el,u=this.options,h=u.preventOnFilter,l=t.type,c=t.touches&&t.touches[0],i=(c||t).target,e=t.target.shadowRoot&&t.path&&t.path[0]||i,f=u.filter,o;if((tr(r),!n)&&(!/mousedown|pointerdown/.test(l)||t.button===0)&&!u.disabled&&!e.isContentEditable&&(i=k(i,u.draggable,r),i)&&ct!==i){if(o=st(i,u.draggable),typeof f=="function"){if(f.call(this,t,i,this)){v(s,e,"filter",i,r,r,o);h&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(n){return n=k(e,n.trim(),r),n?(v(s,n,"filter",i,r,r,o),!0):void 0}),f)){h&&t.preventDefault();return}(!u.handle||k(e,u.handle,r))&&this._prepareDragStart(t,c,i,o)}},_prepareDragStart:function(i,u,f,e){var o=this,l=o.el,c=o.options,h=l.ownerDocument,a;f&&!n&&f.parentNode===l&&(d=i,t=l,n=f,s=n.parentNode,nt=n.nextSibling,ct=f,it=c.group,y=e,this._lastX=(u||i).clientX,this._lastY=(u||i).clientY,n.style["will-change"]="all",a=function(){o._disableDelayedDrag();n.draggable=o.nativeDraggable;w(n,c.chosenClass,!0);o._triggerDragStart(i,u);v(o,t,"choose",n,t,t,y)},c.ignore.split(",").forEach(function(t){ei(n,t.trim(),si)}),r(h,"mouseup",o._onDrop),r(h,"touchend",o._onDrop),r(h,"touchcancel",o._onDrop),r(h,"selectstart",o),c.supportPointer&&r(h,"pointercancel",o._onDrop),c.delay?(r(h,"mouseup",o._disableDelayedDrag),r(h,"touchend",o._disableDelayedDrag),r(h,"touchcancel",o._disableDelayedDrag),r(h,"mousemove",o._disableDelayedDrag),r(h,"touchmove",o._disableDelayedDrag),c.supportPointer&&r(h,"pointermove",o._disableDelayedDrag),o._dragStartTimer=rt(a,c.delay)):a())},_disableDelayedDrag:function(){var n=this.el.ownerDocument;clearTimeout(this._dragStartTimer);e(n,"mouseup",this._disableDelayedDrag);e(n,"touchend",this._disableDelayedDrag);e(n,"touchcancel",this._disableDelayedDrag);e(n,"mousemove",this._disableDelayedDrag);e(n,"touchmove",this._disableDelayedDrag);e(n,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(i,u){u=u||(i.pointerType=="touch"?i:null);u?(d={target:n,clientX:u.clientX,clientY:u.clientY},this._onDragStart(d,"touch")):this.nativeDraggable?(r(n,"dragend",this),r(t,"dragstart",this._onDragStart)):this._onDragStart(d,!0);try{f.selection?ht(function(){f.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(t&&n){var i=this.options;w(n,i.ghostClass,!0);w(n,i.dragClass,!1);c.active=this;v(this,t,"start",n,t,t,y)}else this._nulling()},_emulateDragOver:function(){if(a){if(this._lastX===a.clientX&&this._lastY===a.clientY)return;this._lastX=a.clientX;this._lastY=a.clientY;ui||u(i,"display","none");var n=f.elementFromPoint(a.clientX,a.clientY),t=n,r=ut.length;if(n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(a.clientX,a.clientY),t=n),t)do{if(t[g]){while(r--)ut[r]({clientX:a.clientX,clientY:a.clientY,target:n,rootEl:t});break}n=t}while(t=t.parentNode);ui||u(i,"display","")}},_onTouchMove:function(n){if(d){var f=this.options,e=f.fallbackTolerance,o=f.fallbackOffset,t=n.touches?n.touches[0]:n,s=t.clientX-d.clientX+o.x,h=t.clientY-d.clientY+o.y,r=n.touches?"translate3d("+s+"px,"+h+"px,0)":"translate("+s+"px,"+h+"px)";if(!c.active){if(e&&pi(tt(t.clientX-this._lastX),tt(t.clientY-this._lastY))<e)return;this._dragStarted()}this._appendGhost();ot=!0;a=t;u(i,"webkitTransform",r);u(i,"mozTransform",r);u(i,"msTransform",r);u(i,"transform",r);n.preventDefault()}},_appendGhost:function(){if(!i){var r=n.getBoundingClientRect(),s=u(n),e=this.options,o;i=n.cloneNode(!0);w(i,e.ghostClass,!1);w(i,e.fallbackClass,!0);w(i,e.dragClass,!0);u(i,"top",r.top-ti(s.marginTop,10));u(i,"left",r.left-ti(s.marginLeft,10));u(i,"width",r.width);u(i,"height",r.height);u(i,"opacity","0.8");u(i,"position","fixed");u(i,"zIndex","100000");u(i,"pointerEvents","none");e.fallbackOnBody&&f.body.appendChild(i)||t.appendChild(i);o=i.getBoundingClientRect();u(i,"width",r.width*2-o.width);u(i,"height",r.height*2-o.height)}},_onDragStart:function(i,e){var s=this,c=i.dataTransfer,h=s.options;s._offUpEvents();it.checkPull(s,s,n,i)&&(o=ai(n),o.draggable=!1,o.style["will-change"]="",u(o,"display","none"),w(o,s.options.chosenClass,!1),s._cloneId=ht(function(){t.insertBefore(o,n);v(s,t,"clone",n)}));w(n,h.dragClass,!0);e?(e==="touch"?(r(f,"touchmove",s._onTouchMove),r(f,"touchend",s._onDrop),r(f,"touchcancel",s._onDrop),h.supportPointer&&(r(f,"pointermove",s._onTouchMove),r(f,"pointerup",s._onDrop))):(r(f,"mousemove",s._onTouchMove),r(f,"mouseup",s._onDrop)),s._loopId=setInterval(s._emulateDragOver,50)):(c&&(c.effectAllowed="move",h.setData&&h.setData.call(s,c,n)),r(f,"drop",s),s._dragStartId=ht(s._dragStarted))},_onDragOver:function(r){var e=this.el,f,y,h,ut,a=this.options,st=a.group,l=c.active,w=it===st,ht=!1,ct=a.sort,d,tt,p;if((r.preventDefault!==void 0&&(r.preventDefault(),a.dragoverBubble||r.stopPropagation()),!n.animated)&&(ot=!0,l&&!a.disabled&&(w?ct||(ut=!t.contains(n)):et===this||(l.lastPullMode=it.checkPull(this,l,n,r))&&st.checkPut(this,l,n,r))&&(r.rootEl===void 0||r.rootEl===this.el))){if(wi(r,a,this.el),bt)return;if(f=k(r.target,a.draggable,e),y=n.getBoundingClientRect(),et!==this&&(et=this,ht=!0),ut){dt(l,!0);s=t;o||nt?t.insertBefore(n,o||nt):ct||t.appendChild(n);return}if(e.children.length===0||e.children[0]===i||e===r.target&&gi(e,r)){if(e.children.length!==0&&e.children[0]!==i&&e===r.target&&(f=e.lastElementChild),f){if(f.animated)return;h=f.getBoundingClientRect()}dt(l,w);oi(t,e,n,y,f,h,r)!==!1&&(n.contains(e)||(e.appendChild(n),s=e),this._animate(y,n),f&&this._animate(h,f))}else if(f&&!f.animated&&f!==n&&f.parentNode[g]!==void 0){vt!==f&&(vt=f,ft=u(f),yt=u(f.parentNode));h=f.getBoundingClientRect();var gt=h.right-h.left,lt=h.bottom-h.top,at=vi.test(ft.cssFloat+ft.display)||yt.display=="flex"&&yt["flex-direction"].indexOf("row")===0,pt=f.offsetWidth>n.offsetWidth,wt=f.offsetHeight>n.offsetHeight,kt=(at?(r.clientX-h.left)/gt:(r.clientY-h.top)/lt)>.5,b=f.nextElementSibling,v=!1;at?(d=n.offsetTop,tt=f.offsetTop,v=d===tt?f.previousElementSibling===n&&!pt||kt&&pt:f.previousElementSibling===n||n.previousElementSibling===f?(r.clientY-h.top)/lt>.5:tt>d):ht||(v=b!==n&&!wt||kt&&wt);p=oi(t,e,n,y,f,h,r,v);p!==!1&&((p===1||p===-1)&&(v=p===1),bt=!0,rt(di,30),dt(l,w),n.contains(e)||(v&&!b?e.appendChild(n):f.parentNode.insertBefore(n,v?b:f)),s=n.parentNode,this._animate(y,n),this._animate(h,f))}}},_animate:function(n,t){var i=this.options.animation,r;i&&(r=t.getBoundingClientRect(),n.nodeType===1&&(n=n.getBoundingClientRect()),u(t,"transition","none"),u(t,"transform","translate3d("+(n.left-r.left)+"px,"+(n.top-r.top)+"px,0)"),t.offsetWidth,u(t,"transition","all "+i+"ms"),u(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=rt(function(){u(t,"transition","");u(t,"transform","");t.animated=!1},i))},_offUpEvents:function(){var n=this.el.ownerDocument;e(f,"touchmove",this._onTouchMove);e(f,"pointermove",this._onTouchMove);e(n,"mouseup",this._onDrop);e(n,"touchend",this._onDrop);e(n,"pointerup",this._onDrop);e(n,"touchcancel",this._onDrop);e(n,"pointercancel",this._onDrop);e(n,"selectstart",this)},_onDrop:function(r){var l=this.el,u=this.options;clearInterval(this._loopId);clearInterval(b.pid);clearTimeout(this._dragStartTimer);gt(this._cloneId);gt(this._dragStartId);e(f,"mouseover",this);e(f,"mousemove",this._onTouchMove);this.nativeDraggable&&(e(f,"drop",this),e(l,"dragstart",this._onDragStart));this._offUpEvents();r&&(ot&&(r.preventDefault(),u.dropBubble||r.stopPropagation()),i&&i.parentNode&&i.parentNode.removeChild(i),(t===s||c.active.lastPullMode!=="clone")&&o&&o.parentNode&&o.parentNode.removeChild(o),n&&(this.nativeDraggable&&e(n,"dragend",this),si(n),n.style["will-change"]="",w(n,this.options.ghostClass,!1),w(n,this.options.chosenClass,!1),v(this,t,"unchoose",n,s,t,y),t!==s?(h=st(n,u.draggable),h>=0&&(v(null,s,"add",n,s,t,y,h),v(this,t,"remove",n,s,t,y,h),v(null,s,"sort",n,s,t,y,h),v(this,t,"sort",n,s,t,y,h))):n.nextSibling!==nt&&(h=st(n,u.draggable),h>=0&&(v(this,t,"update",n,s,t,y,h),v(this,t,"sort",n,s,t,y,h))),c.active&&((h==null||h===-1)&&(h=y),v(this,t,"end",n,s,t,y,h),this.save())));this._nulling()},_nulling:function(){t=n=s=i=nt=o=ct=l=lt=d=a=ot=h=vt=ft=et=it=c.active=null;kt.forEach(function(n){n.checked=!0});kt.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":n&&(this._onDragOver(t),ki(t));break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault()}},toArray:function(){for(var i=[],n,r=this.el.children,t=0,f=r.length,u=this.options;t<f;t++)n=r[t],k(n,u.draggable,this.el)&&i.push(n.getAttribute(u.dataIdAttr)||nr(n));return i},sort:function(n){var t={},i=this.el;this.toArray().forEach(function(n,r){var u=i.children[r];k(u,this.options.draggable,i)&&(t[n]=u)},this);n.forEach(function(n){t[n]&&(i.removeChild(t[n]),i.appendChild(t[n]))})},save:function(){var n=this.options.store;n&&n.set(this)},closest:function(n,t){return k(n,t||this.options.draggable,this.el)},option:function(n,t){var i=this.options;if(t===void 0)return i[n];i[n]=t;n==="group"&&fi(i)},destroy:function(){var n=this.el;n[g]=null;e(n,"mousedown",this._onTapStart);e(n,"touchstart",this._onTapStart);e(n,"pointerdown",this._onTapStart);this.nativeDraggable&&(e(n,"dragover",this),e(n,"dragenter",this));Array.prototype.forEach.call(n.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")});ut.splice(ut.indexOf(this._onDragOver),1);this._onDrop();this.el=n=null}},r(f,"touchmove",function(n){c.active&&n.preventDefault()}),c.utils={on:r,off:e,css:u,find:ei,is:function(n,t){return!!k(n,t,n)},extend:li,throttle:ci,closest:k,toggleClass:w,clone:ai,index:st,nextTick:ht,cancelNextTick:gt},c.create=function(n,t){return new c(n,t)},c.version="1.7.0",c});